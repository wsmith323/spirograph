Plan-Id: 2026-02-07_160040Z-bootstrap-agents

# Add `AGENTS.md` for Fast AI Onboarding

## Summary
Create `/Users/warren/work/projects/spirograph/AGENTS.md` as a concise, authoritative agent guide so tools can understand architecture, constraints, and safe change boundaries without re-discovering the repo.

## Important Changes
- Add new file: `/Users/warren/work/projects/spirograph/AGENTS.md`
- No runtime code changes.
- No public API/type/interface changes in Python modules.

## `AGENTS.md` Content Specification (final)
Include these sections, in this order:

1. **Purpose**
- One paragraph: this file is the operational guide for AI/code agents working in this repo.
- State priority: preserve behavior and architectural boundaries over opportunistic refactors.

2. **Repo Snapshot**
- Python version: `>=3.12` (from `pyproject.toml`).
- Entrypoint commands:
  - `spirograph`
  - `python3 -m spirograph.main`
- High-level pipeline:
  - `EngineRequest -> CurveGenerator -> GeneratedCurve -> RenderPlanBuilder -> RenderPlan -> CurveRenderer`
- Mention current renderer: turtle.

3. **Architecture Boundaries (Do/Don’t)**
- `spirograph/cli`: input/session/randomness for geometry params.
- `spirograph/generation`: pure geometry + spans + metadata; no rendering/UI/random side effects.
- `spirograph/rendering`: render plan construction and rendering only.
- `spirograph/orchestration.py`: coordinate steps only, no domain logic.
- Explicit “don’t move logic across layers unless requested.”

4. **Behavior Invariants (Must Preserve)**
- Closure/laps behavior based on GCD-derived period semantics.
- Randomness separation:
  - Geometry randomness in CLI/random module.
  - Color randomness in render plan builder.
  - No hidden randomness in generator/renderer.
- Existing color mode semantics (`fixed`, per-run, per-lap/spin, every-N).
- Manual and random workflows in CLI remain functional.

5. **Key Files**
- `/Users/warren/work/projects/spirograph/spirograph/main.py`
- `/Users/warren/work/projects/spirograph/spirograph/orchestration.py`
- `/Users/warren/work/projects/spirograph/spirograph/generation/circular_generator.py`
- `/Users/warren/work/projects/spirograph/spirograph/rendering/builder.py`
- `/Users/warren/work/projects/spirograph/spirograph/rendering/turtle_renderer.py`
- `/Users/warren/work/projects/spirograph/docs/architecture/architecture_v1.md`

6. **Coding Rules**
- Keep type hints modern and explicit.
- Preserve existing style and ruff constraints in `pyproject.toml`.
- Prefer minimal, focused changes; avoid broad refactors without explicit approval.
- If behavior-affecting math is changed, document why and what remains equivalent.

7. **Validation Checklist for Agents**
- Run static checks/tests if present.
- Minimum manual smoke checks:
  - Launch CLI.
  - One random curve run.
  - One manual run.
  - One non-fixed color mode run.
- Confirm no layer-boundary violations introduced.

8. **Out-of-Scope by Default**
- Persistence, GUI/web UI, non-circular geometry, major architecture rewrites unless explicitly requested.

9. **PR/Change Reporting Expectations for Agents**
- State what changed.
- State whether invariants were touched.
- List risks/regressions and what was validated.

## Implementation Steps
1. Create `/Users/warren/work/projects/spirograph/AGENTS.md`.
2. Write the sections above in concise bullet/short-paragraph form.
3. Keep file under ~120 lines for fast agent consumption.
4. Verify references and module paths match current repo tree.

## Test Cases and Scenarios
1. **Discovery test**: A fresh agent should identify entrypoint, architecture layers, and invariants from `AGENTS.md` alone in under 1 minute.
2. **Safety test**: Agent asked to add a rendering feature should avoid placing logic in generation layer.
3. **Randomness test**: Agent asked to tweak random geometry should modify CLI/random paths, not renderer.
4. **Boundary test**: Agent asked for orchestration change should keep orchestrator coordination-only.

## Assumptions and Defaults
- Default: concise, operational doc optimized for AI tools, not human tutorial prose.
- Default: authoritative architecture source remains `/Users/warren/work/projects/spirograph/docs/architecture/architecture_v1.md`; `AGENTS.md` summarizes enforceable rules.
- Default: no code changes bundled with this addition.
